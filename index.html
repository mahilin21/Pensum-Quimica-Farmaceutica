<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Pensum â€“ QuÃ­mica FarmacÃ©utica â€“ VersiÃ³n 6 â€“ Universidad de Antioquia</title>

<style>
:root{
    --cherry:#710020;
    --passion:#B93853;
    --rose:#C75F75;
    --blush:#E8A2A5;
    --cloud:#F2EBD4;
    --locked:#f1d1d6;

    --coreq-bg:#f6b6c6;
    --coreq-active:#d84b6a;
    --coreq-glow:#f9d3dc;
}

body{
    margin:0;
    padding:20px;
    font-family: "Segoe UI", sans-serif;
    background: var(--cloud);
    color: var(--cherry);
}

h1{text-align:center;margin-bottom:5px;}
h3{text-align:center;margin-top:0;color:var(--passion);font-weight:normal;}

.grid{
    display:grid;
    grid-template-columns: repeat(10,1fr);
    gap:16px;
}

.semester{
    background:#fff;
    border-radius:16px;
    padding:10px;
    box-shadow:0 4px 12px rgba(113,0,32,0.15);
    display:flex;
    flex-direction:column;
    gap:10px;
}

.semester h2{
    text-align:center;
    font-size:15px;
    margin:5px 0 8px;
}

.course{
    background: linear-gradient(135deg, var(--blush), #f4c0cb);
    padding:10px;
    border-radius:12px;
    cursor:pointer;
    font-size:12px;
    transition:0.2s;
    position:relative;
    box-shadow: inset 0 0 0 1px rgba(113,0,32,0.15);
}

.course:hover{
    transform:scale(1.04);
    background: linear-gradient(135deg, var(--rose), var(--passion));
    color:#fff;
}

.course .code,.course .credits{
    display:block;
    font-size:10px;
    opacity:0.85;
}

.course.approved{
    background: linear-gradient(135deg, var(--passion), #8a1d36);
    color:#fff;
    text-decoration: line-through;
}

.course.locked{
    background: var(--locked);
    color:#9a6a75;
    cursor:not-allowed;
}

.course.coreq{
    background: linear-gradient(135deg, var(--coreq-bg), var(--coreq-glow));
    border:2px dashed var(--cherry);
}

.course.coreq::before{
    content:"ðŸ’®";
    position:absolute;
    top:6px;
    right:8px;
    font-size:14px;
}

.course.highlight{
    box-shadow:0 0 0 3px var(--coreq-glow), 0 0 12px rgba(216,75,106,0.6);
    transform:scale(1.05);
}

.course.locked:hover::after{
    content: attr(data-tooltip);
    position:absolute;
    bottom:110%;
    left:50%;
    transform:translateX(-50%);
    background: var(--cherry);
    color:#fff;
    padding:6px 10px;
    border-radius:8px;
    font-size:11px;
    white-space:nowrap;
    z-index:20;
}
</style>
</head>

<body>

<h1>Pensum â€“ QuÃ­mica FarmacÃ©utica</h1>
<h3>VersiÃ³n 6 â€“ Universidad de Antioquia</h3>

<div class="grid" id="grid"></div>

<script>
const courses = [

/* SEM 1 */
{id:"QG",name:"QuÃ­mica General",level:1,credits:4,prereq:[],coreq:["LQG"]},
{id:"LQG",name:"Lab. QuÃ­mica General",level:1,credits:1,prereq:[],coreq:["QG"]},
{id:"MAT",name:"MatemÃ¡ticas",level:1,credits:4,prereq:[],coreq:[]},

/* SEM 2 */
{id:"QO",name:"QuÃ­mica OrgÃ¡nica",level:2,credits:4,prereq:["QG"],coreq:["LQO"]},
{id:"LQO",name:"Lab. QuÃ­mica OrgÃ¡nica",level:2,credits:1,prereq:[],coreq:["QO"]},

/* SEM 3 */
{id:"BIO",name:"BiologÃ­a Celular",level:3,credits:3,prereq:[],coreq:["BQ","LBQ"]},
{id:"BQ",name:"BioquÃ­mica",level:3,credits:3,prereq:[],coreq:["BIO","LBQ"]},
{id:"LBQ",name:"Lab. BioquÃ­mica",level:3,credits:1,prereq:[],coreq:["BIO","BQ"]},

/* SEM 4 */
{id:"BTN",name:"BiotecnologÃ­a",level:4,credits:2,prereq:["BIO"],coreq:["LBTN"]},
{id:"LBTN",name:"Lab. BiotecnologÃ­a",level:4,credits:2,prereq:[],coreq:["BTN"]},

];

let approved = JSON.parse(localStorage.getItem("approvedCourses")||"[]");
const grid = document.getElementById("grid");

function isApproved(id){ return approved.includes(id); }

function prereqOk(course){
    return course.prereq.every(p=>isApproved(p));
}

function canSelect(course){
    return prereqOk(course); // ðŸ”¥ SOLO PRERREQUISITO BLOQUEA
}

function toggleCourse(id){
    if(isApproved(id)) approved = approved.filter(c=>c!==id);
    else approved.push(id);
    localStorage.setItem("approvedCourses",JSON.stringify(approved));
    render();
}

function highlightRelations(courseId,on){
    const course=courses.find(c=>c.id===courseId);
    if(!course) return;
    const ids=[courseId,...course.coreq];
    ids.forEach(id=>{
        const el=document.querySelector(`[data-id="${id}"]`);
        if(el){
            if(on) el.classList.add("highlight");
            else el.classList.remove("highlight");
        }
    });
}

function render(){
    grid.innerHTML="";
    for(let s=1;s<=10;s++){
        const col=document.createElement("div");
        col.className="semester";
        col.innerHTML=`<h2>Semestre ${s}</h2>`;
        courses.filter(c=>c.level===s).forEach(course=>{
            const div=document.createElement("div");
            div.className="course";
            div.setAttribute("data-id",course.id);
            div.innerHTML=`${course.name}
                <span class="code">${course.id}</span>
                <span class="credits">CrÃ©ditos: ${course.credits}</span>`;

            if(course.coreq.length>0) div.classList.add("coreq");

            const locked=!canSelect(course);

            if(isApproved(course.id)) div.classList.add("approved");

            if(locked && !isApproved(course.id)){
                div.classList.add("locked");
                div.setAttribute("data-tooltip","Falta prerrequisito");
            }

            div.onmouseenter=()=>highlightRelations(course.id,true);
            div.onmouseleave=()=>highlightRelations(course.id,false);

            if(!locked || isApproved(course.id)){
                div.onclick=()=>toggleCourse(course.id);
            }

            col.appendChild(div);
        });
        grid.appendChild(col);
    }
}

render();
</script>

</body>
</html>

