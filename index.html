<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Malla Curricular - Qu√≠mica Farmac√©utica UdeA</title>
<style>
    body {
        margin: 0;
        padding: 20px;
        font-family: "Segoe UI", Tahoma, sans-serif;
        background: #f4f7fb;
        color: #333;
    }

    h1 {
        text-align: center;
        margin-bottom: 30px;
        color: #2c3e50;
    }

    .grid {
        display: grid;
        grid-template-columns: repeat(10, 1fr);
        gap: 15px;
    }

    .semester {
        background: #ffffff;
        border-radius: 12px;
        padding: 10px;
        box-shadow: 0 4px 10px rgba(0,0,0,0.05);
        display: flex;
        flex-direction: column;
        gap: 10px;
    }

    .semester h2 {
        text-align: center;
        font-size: 16px;
        margin: 5px 0 10px 0;
        color: #34495e;
    }

    .course {
        padding: 10px;
        border-radius: 8px;
        background: #e8f0fe;
        cursor: pointer;
        font-size: 13px;
        transition: all 0.2s ease;
        position: relative;
    }

    .course:hover {
        transform: scale(1.02);
    }

    .course.approved {
        background: #d4edda;
        color: #155724;
        text-decoration: line-through;
    }

    .course.locked {
        background: #f0f0f0;
        color: #999;
        cursor: not-allowed;
    }

    .course.locked:hover::after {
        content: attr(data-tooltip);
        position: absolute;
        bottom: 110%;
        left: 50%;
        transform: translateX(-50%);
        background: #333;
        color: #fff;
        padding: 6px 8px;
        border-radius: 6px;
        font-size: 11px;
        white-space: nowrap;
        z-index: 10;
    }

    footer {
        margin-top: 30px;
        text-align: center;
        font-size: 12px;
        color: #777;
    }
</style>
</head>
<body>

<h1>Malla Curricular Interactiva ‚Äì Qu√≠mica Farmac√©utica (UdeA)</h1>

<div class="grid" id="grid"></div>

<footer>
    Progreso guardado autom√°ticamente en este navegador üíæ
</footer>

<script>
const courses = [
    // NIVEL 1
    {id:"4007-600", name:"Matem√°ticas B√°sica", level:1, prereq:[]},
    {id:"4008-600", name:"Qu√≠mica General B√°sica", level:1, prereq:[]},
    {id:"4008-601", name:"Lab. Qu√≠mica General", level:1, prereq:["4008-600"]},
    {id:"4012-400", name:"Seguridad y Salud en el Trabajo", level:1, prereq:[]},
    {id:"4010-500", name:"T√©cnicas de la Comunicaci√≥n", level:1, prereq:[]},
    {id:"4012-402", name:"Desarrollo Humano", level:1, prereq:[]},
    {id:"4012-404", name:"Introducci√≥n a la Farmacia", level:1, prereq:[]},
    {id:"4012-459", name:"Ingl√©s I", level:1, prereq:[]},

    // NIVEL 2
    {id:"4008-602", name:"Qu√≠mica Org√°nica", level:2, prereq:["4008-600","4008-601"]},
    {id:"4008-603", name:"Lab. Qu√≠mica Org√°nica", level:2, prereq:["4008-602"]},
    {id:"4007-602", name:"Bioestad√≠stica", level:2, prereq:["4007-600"]},
    {id:"4008-604", name:"Qu√≠mica Anal√≠tica", level:2, prereq:["4008-600","4008-601"]},
    {id:"4008-605", name:"Lab. Qu√≠mica Anal√≠tica", level:2, prereq:["4008-604"]},
    {id:"4012-401", name:"Seminario de Matem√°ticas", level:2, prereq:["4007-600"]},
    {id:"4012-406", name:"Salud P√∫blica", level:2, prereq:["4012-400"]},
    {id:"4012-403", name:"Metodolog√≠a Investigaci√≥n Cualitativa", level:2, prereq:[]},
    {id:"4012-460", name:"Ingl√©s II", level:2, prereq:["4012-459"]},

    // NIVEL 3
    {id:"4009-338", name:"Formaci√≥n Ciudadana", level:3, prereq:[]},
    {id:"4007-604", name:"F√≠sica B√°sica", level:3, prereq:["4012-401"]},
    {id:"4010-600", name:"Biolog√≠a Celular y Molecular", level:3, prereq:[]},
    {id:"4012-412", name:"Bioqu√≠mica", level:3, prereq:["4008-604","4008-605"]},
    {id:"4012-413", name:"Lab. Bioqu√≠mica", level:3, prereq:["4012-412"]},
    {id:"4012-414", name:"Bio√©tica", level:3, prereq:["4012-404"]},
    {id:"4012-407", name:"Pr√°cticas Comunidad", level:3, prereq:["4012-406","4012-403"]},
    {id:"4012-405", name:"Metodolog√≠a Investigaci√≥n Cuantitativa", level:3, prereq:["4012-403"]},
    {id:"4012-461", name:"Ingl√©s III", level:3, prereq:["4012-460"]},

    // NIVEL 4
    {id:"4012-420", name:"Biotecnolog√≠a", level:4, prereq:[]},
    {id:"4012-421", name:"Lab. Biotecnolog√≠a", level:4, prereq:["4012-420"]},
    {id:"4012-416", name:"Fisioanatom√≠a", level:4, prereq:["4012-412"]},
    {id:"4012-417", name:"Lab. Fisioanatom√≠a", level:4, prereq:["4012-416"]},
    {id:"4008-606", name:"Fisicoqu√≠mica", level:4, prereq:["4007-604","4008-602"]},
    {id:"4008-607", name:"Lab. Fisicoqu√≠mica", level:4, prereq:["4008-606"]},
    {id:"4010-602", name:"Microbiolog√≠a", level:4, prereq:["4010-600"]},
    {id:"4010-603", name:"Lab. Microbiolog√≠a", level:4, prereq:["4010-602"]},
    {id:"4012-462", name:"Ingl√©s IV", level:4, prereq:["4012-461"]},

    // NIVEL 5
    {id:"4008-608", name:"An√°lisis Instrumental", level:5, prereq:["4008-606","4008-607"]},
    {id:"4008-609", name:"Lab. An√°lisis Instrumental", level:5, prereq:["4008-608"]},
    {id:"4012-418", name:"Farmacognosia", level:5, prereq:["4008-602","4008-603"]},
    {id:"4012-419", name:"Lab. Farmacognosia", level:5, prereq:["4012-418"]},
    {id:"4012-440", name:"Biofarmacia y Farmacocin√©tica", level:5, prereq:["4012-416","4008-606"]},
    {id:"4012-422", name:"Operaciones Unitarias", level:5, prereq:["4008-606"]},
    {id:"4012-409", name:"Pr√°cticas Servicios Farmac√©uticos", level:5, prereq:["4012-407"]},
    {id:"4012-410", name:"Legislaci√≥n Farmac√©utica", level:5, prereq:["4012-420"]},
    {id:"4012-429", name:"Dise√±o de Experimentos", level:5, prereq:["4012-405"]},
    {id:"4012-463", name:"Ingl√©s V", level:5, prereq:["4012-462"]},

    // NIVEL 6
    {id:"4012-442", name:"Fitoqu√≠mica", level:6, prereq:["4012-418"]},
    {id:"4012-443", name:"Lab. Fitoqu√≠mica", level:6, prereq:["4012-442"]},
    {id:"4012-426", name:"Tecnolog√≠a Farmac√©utica I", level:6, prereq:["4012-422"]},
    {id:"4012-427", name:"Lab. Tecnolog√≠a Farmac√©utica I", level:6, prereq:["4012-426"]},
    {id:"4012-428", name:"Electiva Socio-Human√≠stica", level:6, prereq:["4012-410"]},
    {id:"4012-430", name:"An√°lisis y Control I", level:6, prereq:["4008-608","4008-609"]},
    {id:"4012-431", name:"Lab. An√°lisis y Control I", level:6, prereq:["4012-430"]},
    {id:"4012-411", name:"Pr√°cticas Sector Productivo", level:6, prereq:["4012-409"]},

    // NIVEL 7
    {id:"4012-432", name:"Tecnolog√≠a Farmac√©utica II", level:7, prereq:["4012-426","4012-427"]},
    {id:"4012-433", name:"Lab. Tecnolog√≠a Farmac√©utica II", level:7, prereq:["4012-432"]},
    {id:"4012-448", name:"Administraci√≥n Farmac√©utica", level:7, prereq:["4012-410"]},
    {id:"4012-436", name:"An√°lisis y Control II", level:7, prereq:["4012-430","4012-431"]},
    {id:"4012-437", name:"Lab. An√°lisis y Control II", level:7, prereq:["4012-436"]},
    {id:"4012-439", name:"Pr√°cticas Proyecto", level:7, prereq:["4012-411"]},
    {id:"4012-444", name:"Cosm√©ticos", level:7, prereq:["4012-432"]},
    {id:"4012-445", name:"Lab. Cosm√©ticos", level:7, prereq:["4012-444"]},

    // NIVEL 8
    {id:"4012-434", name:"Toxicolog√≠a", level:8, prereq:["4012-436","4012-437"]},
    {id:"4012-435", name:"Lab. Toxicolog√≠a", level:8, prereq:["4012-434"]},
    {id:"4012-415", name:"Seminario de Farmacolog√≠a", level:8, prereq:[]},
    {id:"4012-424", name:"Nutrici√≥n y Bromatolog√≠a", level:8, prereq:["4012-432","4012-440"]},
    {id:"4012-425", name:"Lab. Nutrici√≥n y Bromatolog√≠a", level:8, prereq:["4012-424"]},
    {id:"4012-408", name:"Farmacolog√≠a", level:8, prereq:["4012-440","4012-442"]},
    {id:"4012-446", name:"Farmacia Hospitalaria", level:8, prereq:["4012-409","4012-436"]},
    {id:"4012-441", name:"Proyecto I", level:8, prereq:["4012-439"]},

    // NIVEL 9
    {id:"4012-438", name:"Electiva Administrativa", level:9, prereq:["4012-432","4012-448"]},
    {id:"4012-450", name:"Farmacia Cl√≠nica", level:9, prereq:["4012-408","4012-446"]},
    {id:"4012-451", name:"Pr√°cticas Farmacia Cl√≠nica", level:9, prereq:["4012-450"]},
    {id:"4012-452", name:"Qu√≠mica Farmac√©utica", level:9, prereq:["4012-436","4012-408"]},
    {id:"4012-453", name:"Lab. Qu√≠mica Farmac√©utica", level:9, prereq:["4012-452"]},
    {id:"4012-454", name:"Farmacia Magistral", level:9, prereq:["4012-432","4012-433"]},
    {id:"4012-455", name:"Lab. Farmacia Magistral", level:9, prereq:["4012-454"]},
    {id:"4012-457", name:"Proyecto II", level:9, prereq:["4012-441"]},
    {id:"4012-456", name:"Aseguramiento de la Calidad", level:9, prereq:["4012-432"]},

    // NIVEL 10
    {id:"4012-459F", name:"Pr√°ctica Acad√©mica Final", level:10, prereq:[]}
];

const grid = document.getElementById("grid");
const approved = JSON.parse(localStorage.getItem("approvedCourses") || "[]");

function isApproved(id) {
    return approved.includes(id);
}

function canUnlock(course) {
    return course.prereq.every(p => approved.includes(p));
}

function toggleCourse(id) {
    const index = approved.indexOf(id);
    if (index === -1) {
        approved.push(id);
    } else {
        approved.splice(index, 1);
    }
    localStorage.setItem("approvedCourses", JSON.stringify(approved));
    render();
}

function render() {
    grid.innerHTML = "";

    for (let level = 1; level <= 10; level++) {
        const col = document.createElement("div");
        col.className = "semester";
        col.innerHTML = `<h2>Semestre ${level}</h2>`;

        courses.filter(c => c.level === level).forEach(course => {
            const div = document.createElement("div");
            div.className = "course";
            div.textContent = course.name;

            if (isApproved(course.id)) {
                div.classList.add("approved");
            } else if (!canUnlock(course)) {
                div.classList.add("locked");
                const missing = course.prereq.filter(p => !approved.includes(p));
                div.setAttribute("data-tooltip", "Falta: " + missing.join(", "));
            } else {
                div.addEventListener("click", () => toggleCourse(course.id));
            }

            col.appendChild(div);
        });

        grid.appendChild(col);
    }
}

render();
</script>

</body>
</html>

